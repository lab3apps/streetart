{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
<div class="add-new-content">
	<div class="container">
		<script src="{% static 'bootstrap/js/jquery-3.2.1.min.js' %}"></script>
		<script src="https://maps.googleapis.com/maps/api/js?libraries=places&key={{ google_api_key }}" type="text/javascript"></script>
		<div class="form-group">
		  <label for="comment">Want to get involved?</label>
		  <select class="form-control" id="form_select">
		    <option value="newArtworkDiv" {% if url_name == "new_artwork" %}selected{% endif %}>Contribute to the map</option>
		    <option value="newMuralDiv"  {% if url_name == "new_muralcommission" %}selected{% endif %}>Commission a mural</option>
		    <option value="newWallSpace"  {% if url_name == "new_wallspace" %}selected{% endif %}>Offer your wall space</option>
		    <option value="newArtistEOIDiv"  {% if url_name == "new_artistexpressionofinterest" %}selected{% endif %}>Express interest as an artist</option>
		  </select>
		</div>

		<div id="newArtworkDiv" {% if url_name != "new_artwork" %}style="display: none;"{% endif %}>
			<h1>Contribute to the map</h1>
			<p>Is our map out of date?

			That's probably because it is! The city landscape is constantly changing, and it's almost impossible for one person to do it alone.

			This map has been put together by a few volunteers. Help us keep it up to date by submitting new information or donate a coffee to keep us running.

			This is a free resource, and, from what we can tell, the most up to date map of Christchurch street art that we can find.

			Why are we doing this? Watch <a href="pechakucha.org/cities/christchurch/presentations/watch-this-space-christchurch-street-art" target="_blank">our Pecha Kucha talk</a> which really gets to the heart of what we're doing and why.</p>
		    <form method="POST" class="artwork-form" enctype="multipart/form-data">{% csrf_token %}
		    	{{ artworkForm.media }}
		    	<p class="bs-component">
		            <div class="form-group">
		            	{{ artworkForm.submitter_description.errors }}
						<label class="control-label" for="id_{{ artworkForm.submitter_description.name }}">Tell us about this work of street art.</label>
						<textarea class="form-control"
						name="{{ artworkForm.submitter_description.name }}"
						id="id_{{ artworkForm.submitter_description.name }}" ></textarea>
						<p class="help-text">{{ artworkForm.submitter_description.help_text }} </p>
					</div>
					<div class="form-group">
		            	{{ artworkForm.submitter_name.errors }}
						<label class="control-label" for="id_{{ artworkForm.submitter_name.name }}">Your Name</label>
						<input type="text" class="form-control"
						name="{{ artworkForm.submitter_name.name }}"
						id="id_{{ artworkForm.submitter_name.name }}" required> 
						<p class="help-text">{{ artworkForm.submitter_name.help_text }} </p>
					</div>
					<div class="form-group">
		            	{{ artworkForm.submitter_email.errors }}
						<label class="control-label" for="id_{{ artworkForm.submitter_email.name }}">Your Email Address</label>
						<input type="email" class="form-control"
						name="{{ artworkForm.submitter_email.name }}"
						id="id_{{ artworkForm.submitter_email.name }}" required> 
						<p class="help-text">{{ artworkForm.submitter_email.help_text }} </p>
					</div>
					<div class="form-group">
		            	{{ artworkForm.image.errors }}
						<label class="control-label" for="id_{{ artworkForm.image.name }}">{{ artworkForm.image.label }}</label>
						{% render_field artworkForm.image class+="form-control" %}
						<p class="help-text">{{ artworkForm.image.help_text }} </p>
					</div>
		            <div>
		            	{{ artworkForm.location.errors }}
		                {{ artworkForm.location.label_tag }}
		                {{ artworkForm.location }}
		            </div>
		        </p>
		        <p class="bs-component">
		            <center>
		                <input class="btn btn-success btn-sm" type="submit" value="Submit" name="new_artwork"/>
		            </center>
		        </p>
		    </form>
		</div>

		<div id="newMuralDiv" {% if url_name != "new_muralcommission" %}style="display: none;"{% endif %}>
			<h1>Commission a New Mural</h1>
			<p>Have you seen art work on this website you like and want to commission a mural? It could be for your business, organisation, or your very own home. We'll help find the right artist for you.</p>
		    <form method="POST" class="mural-form" enctype="multipart/form-data">{% csrf_token %}
		    	{{ muralCommissionForm.media }}
		    	<p class="bs-component">
		    		{% for field in muralCommissionForm %}
		            <div class="form-group">
		            	{{ field.errors }}
						<label class="control-label" for="id_{{ wallSpaceForm.title.name }}">{{ field.label }}</label>
						{% render_field field class+="form-control" %}
					</div>
					{% endfor %}
		        </p>
		        <p class="bs-component">
		            <center>
		                <input class="btn btn-success btn-sm" type="submit" value="Submit" name="new_muralcommission"/>
		            </center>
		        </p>
		    </form>
		</div>
		<div id="newWallSpace" {% if url_name != "new_wallspace" %}style="display: none;"{% endif %}>
			<h1>Offer Your Wall Space</h1>
			<p>Are you located in Christchurch and have wall space available for artists to use for free? Local muralists, graffiti artists, and creators of street art are always looking for open space and free walls to practice their craft and make art work on. International traveling artists occasionally enquire through our website looking for legal places to paint so they can leave their mark on Christchurch.</p>
		    <form method="POST" class="mural-form" enctype="multipart/form-data">{% csrf_token %}
		    	{{ wallSpaceForm.media }}
		    	<p class="bs-component">
		    		{% for field in wallSpaceForm %}
		            <div class="form-group">
		            	{{ field.errors }}
						<label class="control-label" for="id_{{ wallSpaceForm.title.name }}">{{ field.label }}</label>
						{% render_field field class+="form-control" %}
					</div>
					{% endfor %}
		        </p>
		        <p class="bs-component">
		            <center>
		                <input class="btn btn-success btn-sm" type="submit" value="Submit" name="new_wallspace"/>
		            </center>
		        </p>
		    </form>
		</div>
		<div id="newArtistEOIDiv" {% if url_name != "new_artistexpressionofinterest" %}style="display: none;"{% endif %}>
			<h1>Express Your Interest as an Artist</h1>
			<p>Do you want to get your work up on the walls of Christchurch? It's important to Watch This Space Trust to keep creating opportunities for local and visiting artists to Christchurch and keep our city a vibrant, lively city. </p>
		    <form method="POST" class="mural-form" enctype="multipart/form-data">{% csrf_token %}
		    	{{ artistExpressionOfInterestForm.media }}
		    	<p class="bs-component">
					{% for field in artistExpressionOfInterestForm %}
		            <div class="form-group">
		            	{{ field.errors }}
						<label class="control-label" for="id_{{ wallSpaceForm.title.name }}">{{ field.label }}</label>
						{% if field == artistExpressionOfInterestForm.project_types %}
							{% for value, text in field.field.choices %}
							  <div class="checkbox">
							    <label><input id="id_providers_{{ forloop.counter0 }}" name="{{ form.providers.name }}" type="checkbox" value="{{ value }}"{% if value in checked_providers %} checked="checked"{% endif %}>{{ text }}</label>
							  </div>
							{% endfor %}
						{% else %}
							{% render_field field class+="form-control" %}
						{% endif %}
					</div>
					{% endfor %}
		        </p>
		        <p class="bs-component">
		            <center>
		                <input class="btn btn-success btn-sm" type="submit" value="Submit" name="new_artistexpressionofinterest"/>
		            </center>
		        </p>
		    </form>
		</div>
		<script>
		$( "#form_select" )
		  .change(function () {
		    $( "#form_select option:selected" ).each(function() {
		      $('#'+$( this ).val()).css({ display: "block" });
		      if ($('#form_select').val() == 'newArtworkDiv'){
				google.maps.event.trigger(locationmap.map,'resize')
		      }
		      else if ($('#form_select').val() == 'newMuralDiv') {
				google.maps.event.trigger(mural_locationmap.map,'resize')
		      }
		      else if ($('#form_select').val() == 'newWallSpace'){
				google.maps.event.trigger(wall_locationmap.map,'resize')
		      }
		      
		    });
		    $('#form_select option:not(:selected)').each(function() {
		    	$('#'+$( this ).val()).css({ display: "none" });
		    });
		  })
		  .change();
		</script>
	</div>
	
</div>
	
    
{% endblock %}

